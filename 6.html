<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body></body>
  <script>
    let obj = {
      a: {
        b: {
          c: 1,
          d: 2
        },
        e: {
          f: 3,
          g: 4
        }
      },
      q: {
        w: {
          e: 6,
          r: 7
        },
        j: {
          k: 8,
          l: 9
        }
      }
    }

    let arr = [1, [2, [3]], 4, [5, [6]]]

    const flat = (arr = [], mode = 'loop') => {
      if (mode == 'api') {
        return arr.flat(Infinity)
      }
      if (mode == 'join') {
        return arr.join().split(',').map(Number)
      }
      if (mode == 'loop') {
        while (arr.some(item => Array.isArray(item))) {
          arr = [].concat(...arr)
        }
        return arr
      }
      return [].concat(
        ...arr.map(item => (Array.isArray(item) ? flat(item) : item))
      )
    }
    // console.log(flat(arr))

    let J = 'aA'
    let S = 'aAAbbbb'
    const ruby = (rb, rk) => rk.split('').filter(_ => rb.includes(_)).length
    // console.log(ruby(J, S))

    let nums = [4, 64, 96, 47, 84, 1, 23, 7, 94, 63, 67]

    const searchK = (nums, k = 3) => {
      return nums.reduce((acc, item) => {
        if (acc.length < 4) {
          acc.push(item)
          return acc
        }
        if (acc.sort((a, b) => a - b)[acc.length - 1] > item) {
          console.log(acc)
          acc.splice(-1, 1, item)
        }
        return acc
      }, [])
    }
    // console.log(searchK(nums))

    let trball = '红蓝蓝黄红黄蓝红红黄红'
    const sortBalls = (arr = []) => {
      const obj = { 黄: 0, 红: 1, 蓝: 2 }
      return arr.sort((a, b) => obj[a] - obj[b])
    }
    // console.log(sortBalls(trball.split('')))

    /**
     * @description 用最精炼的代码实现数组非零最小值 index
     * @param {array} arr 数组
     * @returns {number} index 索引
     */
    let arr1 = [10, 21, 0, -7, 35, 7, 9, 23, 18]
    function minIndex(arr) {
      let minI = -1
      const minV = arr.reduce((min, v, i) => {
        if (v > 0 && min > v) {
          min = v
          minI = i
        }
        return min
      }, Infinity)
      console.log(minI, minV)
    }
    minIndex(arr1)
  </script>
</html>
