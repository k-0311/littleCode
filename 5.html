<!--
 * @Author: Raven
 * @Date: 2019-07-24 11:29:39
 * @msg: 
 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

</body>
<script>

  function findLongest(str) {
    if (!str) return {}
    let count = 0
    let maxCount = 0
    let cur = str[0]
    let res = {}
    for (let i = 0; i < str.length; i++) {
      const s = str[i]
      if (s === cur) {
        count++
        if (count > maxCount) {
          res = { [s]: count }
          maxCount = count
        }
        if (count === maxCount) {
          res[s] = count
        }
      } else {
        count = 1
        cur = s
      }
    }
    return res
  }

  // console.log(findLongest('abbkejsbcccwbbqaa'))

  'abbkejsbcccwbbqaa'.match(/(\w)\1+/g) //  \1代表分组1匹配的文本

  const debounce = (fn, time) => {
    let timer;
    return function (...args) {
      clearTimeout(timer)
      timer = setTimeout(() => {
        fn.apply(this, args)
      }, time)
    }
  }

  const thresholds = (fn, def) => {
    let timer;
    let prev = new Date
    return function (...args) {
      clearTimeout(timer)
      let curr = new Date() - 0;
      if (curr - prev > def) {
        fn.apply(this, args)
        prev = curr
      } else {
        timer = setTimeout(() => {
          fn.apply(this, args)
        }, def);//不进行操作后在执行一次
      }
    }
  }

  function feibo1(num) {
    let [pre, cur] = [0, 1]
    while (num) {
      num--
      [pre, cur] = [cur, cur + pre]
    }
    return cur
  }
  // console.log(feibo1(10))

  function compareArr(
    arr1 = [{ id: 1 }, { id: 2 }, { id: 3 }, { id: 4 }, { id: 5 }],
    arr2 = [1, 2, 4]
  ) {
    while (arr2.length > 0) {
      let tar = arr2.shift()
      for (const [index, val] of arr1.entries()) {
        if (val.id === tar) {
          arr1.splice(index, 1)
          break
        }
      }
    }
    return arr1
  }
  // console.log(compareArr())

  function strMatch1(str) {
    let arr = str.match(/\w+/g)
    let res
    while (arr.length) {
      let cur = arr.pop()
      let temp = { value: cur }
      if (res) {
        temp.children = res
      }
      res = temp
    }
    return res
  }
  // console.log(strMatch1('1[2[3[4]]]'))
</script>

</html>